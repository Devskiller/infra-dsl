language: java
jdk:
- oraclejdk8
before_install:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- if [[ $TRAVIS_PULL_REQUEST == "false" && $TRAVIS_BRANCH == "master" ]]; then git checkout master; fi
before_script:
- if [[ $TRAVIS_COMMIT_MESSAGE =~ .*doRelease.* || $TRAVIS_PULL_REQUEST == "false" && $TRAVIS_BRANCH == "master" ]]; then ./mvnw initialize -Pversion; fi
script:
- if [[  $TRAVIS_COMMIT_MESSAGE =~ .*doRelease.* || $TRAVIS_PULL_REQUEST == "false" && $TRAVIS_BRANCH == "master" ]]; then ./mvnw deploy --settings .mvn/settings.xml; else ./mvnw install; fi
branches:
  except:
 - /^v\d+\-b\d+$/
cache:
  directories:
  - "~/.m2/repository"
  - "~/.m2/wrapper"
install: true
env:
  global:
  - secure: "Rg9lfIQpbggknfj7VpPa0iZMbzW95wNqDz1CE8KgQyfDWsys8rX6nydCocHeiAH9mD2No3PXXVgnQn+L7KuMQ2cu/+67PTGfB3hMyStiZ325xNLRpY3EW5WL7Nq0cgz/MpxfltdvGv11v9ItLnAYCqT7HZ4f16OY8iScl0f6kp7v5eN5rzwwlBQuVcjn+rXj4XxR5XuzkiUgHLDmS9WwYfMVmk/vWZDFgFLPbyVrc1JWKpqzL/39Wk3RaKBfpVfqXp7DLgUIP485Cn81vI7Vr4enH/1EPs4aedkLe0EhuHMY0DEoEPcMOyhbCDtURiZ2W/UQnXRs9lQdWLMjaL+RKqnQJ0VGiQRVDZhPKga99Tpa954hatZW6NvYmFMCdy2qVnyRKVrwdOUqZ4GyauQ5O+3AJj1GcaYJeER8G7/rh6bAR6YHBGEAS1G3kHIXJSStDBHF1zws3ScF8dKps0CqbjeG10CIeqo060UUa6CWWcgF/sW79ehVU40GBu5d/+MA15EVm+UlwOBEttlUI5V5GgfiMqMcY0oAkcuWnEDctUIrf9Mha4lMNeuFKkXkhGd1Ydop62jhuXl3H+RFrIyKaVcSgeTKaW2cgVZJ2KaENAYqgMGKhHMAJUfLSH9D2lAbg0Bat8glJwkLNZ3MPLmRdK667gUwChU13NBMy0usd04="

